<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <link href="https://github.com/json-com/json-com.github.io/edit/master/" rel="edit-form" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>JSON Community</title>
  <meta name="description" content="JSON.com is a collection of JSON related content, links, and general awesomeness hand selected by the good people of the Web. The original json.com site has ...">

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="canonical" href="/">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- Atom & RSS -->
  <link rel="alternate" type="application/atom+xml" title="JSON Community" href="/atom.xml">
  <link rel="alternate" type="application/rss+xml" title="JSON Community" href="/feed.xml" />
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <img src="/public/apple-touch-icon-precomposed.png" />
    <p>JSON.com is a collection of JSON related content, links, and general awesomeness hand selected by the good people of the Web. The original json.com site has been <a href="http://web.archive.org/web/20150503020228/https://www.json.com/"> archived</a>.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    <a class="sidebar-nav-item" href="/about/">About</a>
    <a class="sidebar-nav-item" href="/archives/">Archives</a>
    <a class="sidebar-nav-item" href="/specs/">Specifications</a>

    
      <a class="sidebar-nav-item" href="https://github.com/json-com">
        <span class="icon icon--github">
          <svg viewBox="0 0 16 16" width="1em" height="1em" style="vertical-align: middle">
            <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
          </svg>
        </span>

        <span class="username">json-com</span>
      </a>
    

    

  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2024. Apache License 2.0.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">JSON Community</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">
        
<div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/10/12/welcome-to-json-com">
        Welcome to JSON.com!
      </a>
    </h1>

    <span class="post-date">12 Oct 2015</span>

    <p><a href="http://JSON.com">JSON.com</a> has existed
<a href="http://web.archive.org/web/20070814024046/http://www.json.com/2006/12/26/welcome-to-jsoncom/">on the Web since 2006</a>.
It's changed hands a number of time looking for a sustainable home.</p>
<p><a href="http://bigbluehat.com/">BigBlueHat</a> has most recently offered to curate a
community via the collaborative awesome of GitHub.</p>
<p>If you are interested in participating, please <a href="https://github.com/json-com/json-com.github.io/issues">reach out via GitHub</a>. Send in
Pull Requests with openly licensed content, links, etc.</p>
<p>Let's build this one to last. :wink:</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/12/16/send-jsonp-cross-domain-requests">
        Send JSONP Cross-domain Requests
      </a>
    </h1>

    <span class="post-date">16 Dec 2013</span>

    <h2 id="cross-domain-requests" tabindex="-1">Cross-domain Requests</h2>
<p>In developing web applications it's commonplace to send and receive data
to APIs (Application Programmable Interfaces) that exist on other
domains. This cross-domain communication is often performed directly in
the browser, on the client-side using JavaScript. Cross-domain
communication can be accomplished using a server-side languages like
Python, Nodejs, PHP, etc., however for cases where responses from
cross-domain requests are utilized in the browser, JavaScript can save
time and simplify development. Addintionaly, JavaScript requests are
asynchronous— meaning they can be run in parallel with other processes.
For example, JavaScript requests to other domains can be processed
asynchronously while the page is still loading.</p>
<h2 id="same-origin-policy" tabindex="-1">Same-origin Policy</h2>
<p>Same-origin policy is an important security concept in client-side
programming languages including JavaScript. This policy is observed by
all web browsers and limits scripts running on a site to only sending
requests with the same site. Browers use a combination of port number
(e.g. 80) and hostname (e.g. <a href="http://my.domain.com">my.domain.com</a>) to determine the scope of
the 'site'. There are however exceptions to the same-origin policy,
including using the HTML &lt;script&gt; tag to retreive a dynamically
generated JavaScript file from an external site. The most prominent of
method of exploiting this exception is JSONP.</p>
<h2 id="json-with-padding-(jsonp)" tabindex="-1">JSON with Padding (JSONP)</h2>
<p>JSONP uses the &lt;script&gt; tag to retreive remote JavaScript code
containing formatted JSON data with a function call wrapped around it.
The data is not parsed, rather it is evaluated by the JavaScript
interpreter.</p>
<p>A typical JSONP request may look like:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>application/javascript<span class="token punctuation">"</span></span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://remote.domain.com/data/?callback=jsonpcallback&amp;id=123<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>The dynamically generated JavaScript file may look like:</p>
<pre class="language-js"><code class="language-js"><span class="token function">jsonpcallback</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"comments"</span><span class="token operator">:</span> <span class="token string">"6"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"sample"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>The &quot;padding&quot; in JSONP refers to the function call that wraps the
formatted JSON object. This padding isn't always a function call. Though
not common, padding could also be a variable assignment:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"comments"</span><span class="token operator">:</span> <span class="token string">"6"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"sample"</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>The purpose of the padding is to allow a means for the formatted data to
be put to use in the application.</p>
<h2 id="jquery-for-jsonp" tabindex="-1">jQuery for JSONP</h2>
<p>The jQuery JavaScript library has functions to make using JSONP a
snap.<a href="http://learn.jquery.com/ajax/working-with-jsonp/">jQuery's
$.ajax()</a> function
will automatically handle &lt;script&gt; tag injection and response
handling (i.e. calling the 'callback' function).</p>
<pre class="language-js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//JSONP API</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"http://remote.domain.com/data/?callback=jsonpcallback&amp;id=123"</span><span class="token punctuation">,</span>
  <span class="token comment">//the name of the callback function</span>
  <span class="token literal-property property">jsonp</span><span class="token operator">:</span> <span class="token string">"jsonpcallback"</span><span class="token punctuation">,</span>
  <span class="token comment">//tell jQuery to expect JSONP</span>
  <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">"jsonp"</span><span class="token punctuation">,</span>
  <span class="token comment">//tell YQL what we want and that we want JSON</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">"123"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//work with the response</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//formatted JSON data</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span> <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token property">"comments"</span><span class="token operator">:</span> <span class="token string">"6"</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"sample"</span> <span class="token punctuation">}</span></code></pre>
<p>Alternatively, if jQuery is not available- which is often the case when
developing embeddable widgets- raw JavaScript can be used. The following
is minimal JSONP implementation:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">//callback function</span>
<span class="token keyword">function</span> <span class="token function">jsonpcallback</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//do stuff with JSON</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//create HTML script tag</span>
<span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"http://remote.domain.com/data/?callback=jsonpcallback&amp;id=123"</span>

<span class="token comment">//inject script tag into head</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'head'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/12/11/bootstrap-data-to-a-page">
        Bootstrap Data to a Page
      </a>
    </h1>

    <span class="post-date">11 Dec 2013</span>

    <p>What does &quot;bootstrapping&quot; mean exactly? <em>Hard-coding your data to the
page using synchronous server-side template.</em></p>
<p>Most developers face the challenge of sending data from their
server-side to the client-side to be used JavaScript. There are several
solutions for this. Among the most common is creating an REST endpoint
that can be consumed with asynchronous javascript, often using the
<a href="http://api.jquery.com/jQuery.ajax/" title="jQuery Ajax">jQuery Ajax</a> function.</p>
<ul>
<li>How is page load time affected when loading data asynchronously?
Does the user’s experience depend directly on this data?</li>
<li>Is there unecessary overhead creating an REST endpoint?</li>
<li>Does the REST endpoint need to be secure? Authenticated? CSRF
Tokenized?</li>
</ul>
<p>Depending on the answers to these questions, bootstrapping may be an
elegant solution for getting the data to the client-side quickly and
with minimal development.</p>
<p>It typically looks something like this on the server side:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//bootstrapped data with server-side template</span>
<span class="token keyword">var</span> bootstrap <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"app_id"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token string-property property">"session_id"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">'Bootstrap Data to a Page'</span><span class="token punctuation">,</span>
  <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token string-property property">"confirmation"</span><span class="token operator">:</span> <span class="token string">""</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>It looks like this when it’s rendered on the client side:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//bootstrapped data rendered on client-side</span>
<span class="token keyword">var</span> bootstrap <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"app_id"</span><span class="token operator">:</span> <span class="token string">"a1b2c3"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"session_id"</span><span class="token operator">:</span> <span class="token string">"x0y9z8"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"My Cool App"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token string">"1.99"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"confirmation"</span><span class="token operator">:</span> <span class="token string">"Thanks for purchasing our app."</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>This boostrapped JSON object can now be called with JavaScript
immediately when the object is rendered by the browser:</p>
<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bootstrap<span class="token punctuation">)</span>
<span class="token comment">// { "app_id": "a1b2c3", ... }</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bootstrap<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
<span class="token comment">// My Cool App</span></code></pre>
<p>Note: it's best to put the bootstrapped object near the top of the page
so it can used immediately, even before remaining html/css/javascript is
loaded.</p>
<p>The key benefit of the bootstrapped object comes in the time saved when
not having to use asynchronous JavaScript to call data from a REST
endpoint. If you typically use jQuery Ajax to do this, 100-500
milliseconds of prerequsite load time would be added just to gain access
to the <code>jQuery.ajax()</code> function. Any ajax request(s) retreiving data
from a REST endpoint comes with additional load time expense.</p>
<p>If your app depends on this data, synchronously loaded (aka
&quot;bootstrapped&quot;) JSON data will make your app snappy and your users
happy. Not to mention, because of the server-side templating, REST
endpoint security considerations are nullified.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/12/10/unleash-the-power-of-nesting">
        Unleash the Power of Nesting
      </a>
    </h1>

    <span class="post-date">10 Dec 2013</span>

    <p>The use of nested JSON object often allows developers to break out of the common relational schemas employed in databases like MySQL and MSSQL.  When not limited to a shallow data schema based on rows and columns, data can take on new strucutres to better align with development needs.  When JSON is used in a persitence layer, nested objects can often be used to replace simple relationships that might have existed in a relational data schema.</p>
<h2 id="nested-json-object" tabindex="-1">Nested JSON Object</h2>
<p>An example of an 'employee' object stored in JSON.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"id"</span> <span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>
  <span class="token property">"f_name"</span> <span class="token operator">:</span> <span class="token string">"Adam"</span><span class="token punctuation">,</span>
  <span class="token property">"l_name"</span> <span class="token operator">:</span> <span class="token string">"Smith"</span><span class="token punctuation">,</span>
  <span class="token property">"skills"</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"web development"</span><span class="token punctuation">,</span>
    <span class="token string">"ux design"</span><span class="token punctuation">,</span>
    <span class="token string">"data science"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"team"</span><span class="token operator">:</span> <span class="token string">"engineering"</span>
<span class="token punctuation">}</span></code></pre>
<p>Nesting like this can greatly simplify data storage and make data more easily digestible and traversible by an app.  Unlike data stored in rows and columns, JSON can be structured to be infinitely deep.  Objects can be nested inside objects, nested inside objects, etc..</p>
<h2 id="relational-database-structure" tabindex="-1">Relational Database Structure</h2>
<p>A similar dataset to the above might look like the following in a relational data schema:</p>
<h3 id="employee-%5Btable%5D" tabindex="-1">employee [table]</h3>
<pre><code>  | id  | f_name    | l_name    | team        |
  ---------------------------------------------
  | 1   | Adam      | Smith     | engineering |
</code></pre>
<h3 id="skill-%5Btable%5D" tabindex="-1">skill [table]</h3>
<pre><code>  | id    | name            |
  ---------------------------
  | 1     | web development |
  | 2     | ux design       |
  | 3     | data science    |
</code></pre>
<h3 id="employee_skill-%5Btable%5D" tabindex="-1">employee_skill [table]</h3>
<pre><code>  | id    | employee_id (fk)  | skill_id (fk) |
  ---------------------------------------------
  | 1     | 1                 | 1             |
  | 2     | 1                 | 2             |
  | 3     | 1                 | 3             |
</code></pre>
<p>In this case, to define the relationships between skills and employees we're forced to use three tables, each with a rigid structure.  The cost-benefit of JSON is evident, especially if data storage requirements ever change.  Imagine the cost of maintaining 3 tables versus one flexible JSON object.  Not all data is suited for JSON.  For those who value maintainability and flexibility over rigid schemas, it's a fantastic alternative—one increasing greatly in popularity.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/12/09/store-analytics-data">
        Store Analytics Data
      </a>
    </h1>

    <span class="post-date">09 Dec 2013</span>

    <p>JSON is a attractive option for setting up a custom analytics data store.  The flexibility of JSON allows for website owners flexibly store data and get creative in changing tracked data over— all without worring about changing a database schema.</p>
<p>Here's an example of what an object containing analytics data might look like:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"0e494339-c94e-4834-93e6-8f0896c5346c"</span><span class="token punctuation">,</span>
  <span class="token property">"_timestamp"</span><span class="token operator">:</span><span class="token string">"1386697259630"</span><span class="token punctuation">,</span>
  <span class="token property">"_uid"</span><span class="token operator">:</span><span class="token string">"843f8e4f888de5b9"</span><span class="token punctuation">,</span>
  <span class="token property">"_url"</span><span class="token operator">:</span><span class="token string">"http://www.mysite.com"</span><span class="token punctuation">,</span>
  <span class="token property">"_referrer"</span><span class="token operator">:</span><span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token property">"_category"</span><span class="token operator">:</span><span class="token string">"campaign"</span><span class="token punctuation">,</span>
  <span class="token property">"_action"</span><span class="token operator">:</span><span class="token string">"share"</span><span class="token punctuation">,</span>
  <span class="token property">"_browser"</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">"pdf"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span>
    <span class="token property">"qt"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span>
    <span class="token property">"realp"</span><span class="token operator">:</span><span class="token string">"0"</span><span class="token punctuation">,</span>
    <span class="token property">"wma"</span><span class="token operator">:</span><span class="token string">"0"</span><span class="token punctuation">,</span>
    <span class="token property">"dir"</span><span class="token operator">:</span><span class="token string">"0"</span><span class="token punctuation">,</span>
    <span class="token property">"fla"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span>
    <span class="token property">"gears"</span><span class="token operator">:</span><span class="token string">"0"</span><span class="token punctuation">,</span>
    <span class="token property">"ag"</span><span class="token operator">:</span><span class="token string">"0"</span><span class="token punctuation">,</span>
    <span class="token property">"java"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span>
    <span class="token property">"res"</span><span class="token operator">:</span><span class="token string">"1440x900"</span><span class="token punctuation">,</span>
    <span class="token property">"cd"</span><span class="token operator">:</span><span class="token string">"24"</span><span class="token punctuation">,</span>
    <span class="token property">"cookie"</span><span class="token operator">:</span><span class="token string">"1"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"medium"</span><span class="token operator">:</span><span class="token string">"twitter"</span><span class="token punctuation">,</span>
  <span class="token property">"campaign_id"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span>
  <span class="token property">"product_id"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">,</span>
  <span class="token property">"other_field"</span><span class="token operator">:</span> <span class="token string">"anything"</span>
<span class="token punctuation">}</span></code></pre>
<p>Notice some fields are prefixed with an underscore— these denote 'default' fields while fields without an underscore are considered 'custom' fields.  This allows as to create extend our JSON objects, while still providing the bare minimum defaults that would be used in an analytics application.  Say for example, in one month of implementing analytics tracking, business requirements change and now it's important to track a new field 'widget_type'.  Without making a change to a database schema (common with relational databases), we can add the 'widget_type' field to analytics object and save.</p>
<p>Over time as tracking requirements broaden, the size (and number of fields) in your analytics objects scales infinitely to meet. When these objects are stored with a great DBAAS (DataBase As A Service) like
a(href=&quot;<a href="http://cloudant.com">http://cloudant.com</a>&quot;) <a href="http://cloudant.com">cloudant.com</a>
data can be easily mined for interesting patterns and returned to a dashboard for further visualization.  Many web-based data visualization libraries use JSON natively, so starting in this format will be an additional time-saver.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/06/05/create-a-universally-readable-dictionary">
        Create a Universally-Readable Dictionary
      </a>
    </h1>

    <span class="post-date">05 Jun 2013</span>

    <p>You ever need to create a dictionary?</p>
<p>Of course you do! Heck, I do it all the time!</p>
<p>Oh, stop looking at me like that. I don't just mean language
dictionaries! Address books, blogrolls, bibliographies, calendar events
grouped by date... anywhere you have a list of
words/phrases/terms/names/etc. and their corresponding
definitions/explanations/details/etc., you've got a dictionary.</p>
<p>For example, suppose you wanted to create a list of tourist attractions
in your favorite city:</p>
<p>Cerro San Cristóbal: A really big hill on the north side of town.
La Vega:             Awesome place to buy veggies.
Patio Bellavista:    Great nightlife and dining.</p>
<p>I'm going to go ahead and take the liberty of assuming that your
favorite city is Santiago de Chile, but if this is completely
unacceptable to you, feel free to follow along with your own list.</p>
<p>Not too shabby. Now, let's tweak it a little bit by putting everything
in quotes:</p>
<p>&quot;Cerro San Cristóbal&quot;: &quot;A really big hill on the north side of Santiago.&quot;
&quot;La Vega&quot;:             &quot;Awesome place to buy veggies.&quot;
&quot;Patio Bellavista&quot;:    &quot;Great nightlife and dining.&quot;</p>
<p>And just so that it's clear where each entry in the list ends, we'll add
a comma at the end:</p>
<p>&quot;Cerro San Cristóbal&quot;: &quot;A really big hill on the north side of Santiago.&quot;,
&quot;La Vega&quot;:             &quot;Awesome place to buy veggies.&quot;,
&quot;Patio Bellavista&quot;:    &quot;Great nightlife and dining.&quot;</p>
<p>And for good measure, let's decorate it with some curly braces because
they're just so goshdarned pretty:</p>
<p>{
&quot;Cerro San Cristóbal&quot;: &quot;A really big hill on the north side of Santiago.&quot;,
&quot;La Vega&quot;:             &quot;Awesome place to buy veggies.&quot;,
&quot;Patio Bellavista&quot;:    &quot;Great nightlife and dining.&quot;
}</p>
<p>Well, would you look at that — we now have ourselves a
properly-formatted JSON object! Not only is it still perfectly readable
by humans, but you can now feed it into a script in just about any
language.</p>
<p>And since most JSON readers don't mind a little whitespace, you can make
it even prettier:</p>
<p>{
&quot;Cerro San Cristóbal&quot;:
&quot;A really big hill on the north side of Santiago.&quot;,</p>
<p>&quot;La Vega&quot;:
&quot;Awesome place to buy veggies.&quot;,</p>
<p>&quot;Patio Bellavista&quot;:
&quot;Great nightlife and dining.&quot;
}</p>
<p>With a little bit of JSON, you can easily create attractive definition
lists that are readable both by humans <em>and</em> computers!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/05/28/keep-track-of-progress">
        Keep Track of Progress
      </a>
    </h1>

    <span class="post-date">28 May 2013</span>

    <p>Let's pretend that you are tasked with writing a one-off script to process a massive amount of backlogged data (a few of you might not have to pretend very hard).  Because this script is ultimately going to be run once and then discarded, it would be a waste to spend lots of time building error handling routines and making the process super robust — it would be far less expensive just to expect failure and come up with an efficient way to deal with it.</p>
<p>And if there's one thing you can count on, it's failure.  Servers will go offline, files will disappear, hamsters will chew through the power cables... one way or another, you're going to run into a situation where a script or job that you've written will not be able to complete its task successfully.</p>
<p>And then what?</p>
<p>Well, you've got two options:</p>
<ol>
<li>Clear out all the partially-processed data (assuming that's even possible!), run the job again and hope extra hard that it works this time!</li>
<li>Periodically save your progress to a file so that your program knows exactly where to leave off in the event of a crash.</li>
</ol>
<p>I don't know about you, but I am rather partial to option #2.</p>
<p>For the purposes of this example, let's say that you manage a website with a huge number of hosted image files (<a href="http://creativecommons.org/licenses/by-sa/3.0/">cc-by-sa</a>, of course).  One day, you noticed that other website owners are using your images without properly crediting your site.  I know that barely ever happens in real life, but bear with me here.
p So you've gotta write a script that does two things:</p>
<ol>
<li>Submit each photo to a reverse image search API to locate unauthorized uses of the image and log the offending websites to a file for later follow-up.</li>
<li>Apply a watermark to each image so that future content copiers will attribute the images correctly whether they want to or not.</li>
</ol>
<p>Step 1 could potentially take awhile, and there are a lot of opportunities for something to get screwed up somewhere along the line.  Network outages, connection timeouts, the remote server sends back a 503 — there are a lot of ways this process could fail.</p>
<p>Even the watermarking process could go boom.  A corrupted or oddly-formatted image might cause the image processor to crash.</p>
<p>Since you can't spend hours and hours making your script fail-proof, you'll have to find a way to keep track of your script's progress so that in the event that something does break, the program can recover gracefully (and something <strong>will</strong> break – usually right after you go home for the evening, wasting an entire night's worth of processing time).</p>
<p>JSON to the rescue!  Yeah, I bet you were wondering when I'd get to the point already.</p>
<p>Imagine you started off with a <code>status.json</code> file that looked something like this:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"img_1856322"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"search"</span><span class="token operator">:</span>     <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"watermark"</span><span class="token operator">:</span>  <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"img_1856323"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"search"</span><span class="token operator">:</span>     <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"watermark"</span><span class="token operator">:</span>  <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ... and so on ...
<span class="token punctuation">}</span></code></pre>
<p>How this file was generated is outside the scope of this article, but given that you've made it this far, I bet you've already thought of at least 3 devilishly clever ways to do it.</p>
<p>When your script starts up, it reads the JSON object from the status file and starts traversing it, looking for tasks that haven't been completed yet.  As it finishes each step, it updates the object with the results (and don't forget to write the JSON back to <code>status.json</code> each time it is updated so that you don't lose your status in the event that the entire script gets crash-y!).</p>
<p>After awhile, <code>status.json</code> starts to show signs of life (explanatory comments added):</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"img_1856322"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"search"</span><span class="token operator">:</span>     <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token comment">// Oh good; nobody's using this image!  It's mine!  All mine!!</span>
    <span class="token property">"watermark"</span><span class="token operator">:</span>  <span class="token boolean">true</span>  <span class="token comment">// Watermark completed successfully (:</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"img_1856323"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"search"</span><span class="token operator">:</span>     <span class="token punctuation">[</span><span class="token string">"http://www.istealimages.com/buy_my_poster/totally_legit.jpg"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// Somebody is abusing our image!  Release the hounds!</span>
    <span class="token property">"watermark"</span><span class="token operator">:</span>  <span class="token punctuation">[</span><span class="token string">"DivideByZeroError"</span><span class="token punctuation">,</span> <span class="token string">"Unexpected divide by zero in region 42."</span><span class="token punctuation">]</span>  <span class="token comment">// Oops; something went wrong during the watermarking!  Wait... *unexpected* divide by zero?</span>
  <span class="token punctuation">}</span>
  ... you get the idea ...
<span class="token punctuation">}</span></code></pre>
<p>Notice something else cool about <code>status.json</code>?  It doubles as a log file once the script is finished running!  Not only do you have a lean placemarker file for your script, but it's also in a format that's easy for a human to scan through.</p>
<p>For really complex jobs or periodic tasks, you will probably find that it is worth the time to integrate a fully-featured job manager and spend the extra effort tuning your script for robustness.  But when you have a one-off task to crunch through, consider using a JSON-formatted status file so that both you and your script can keep a handle on things.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/05/21/get-more-bang-for-your-relational-buck">
        Get More Bang for Your Relational Buck
      </a>
    </h1>

    <span class="post-date">21 May 2013</span>

    <p>From time to time, your data models might suffer from field creep � you
have to keep adding more and more fields to your models to work around
edge cases and unique business requirements.</p>
<p>In the world of relational databases, this usually manifests either as
additional fields tacked onto an existing table, or a separate &quot;detail&quot;
table with a one-to-one relation to its corresponding source model � and
these are just the least complicated approaches; there are far more
complex ways to address the situation!</p>
<p><img src="/img/posts/93-relational-1.png" alt="Relational Schema 1"></p>
<p><em>One approach to addressing the need for ever-more-specific-use-case
fields: add more (increasingly ridiculously-named) fields to the table.</em></p>
<p><img src="/img/posts/93-relational-2.png" alt="Relational Schema 2"></p>
<p><em>An alternate approach: move all of those pesky &quot;detail&quot; fields into a
separate table that you can hide away in the closet whenever company
comes over.</em></p>
<p>In addition to cluttering up your ERD, you are also leveraging the power
(and overhead!) of your relational database engine for things that don't
actually need it.</p>
<p>Your pet store application might never need to filter a select query by
userstory183274_marker value, but thanks to user story 183274, you
still have to store that information with each pet.</p>
<p>Perhaps there's another approach, one that is more scalable and doesn't
clutter up your database tables with (almost) useless fields... and yet
still makes this custom information accessible to your application.</p>
<p>Well, as it happens, there is! Combine all of those extra &quot;detail&quot;
fields into a single detail field that uses – you guessed it – JSON to
store key/value pairs!</p>
<p><img src="/img/posts/93-relational-3.png" alt="Relational Schema 3"></p>
<p>Much easier on the eyes!</p>
<p>Let's peek at some values in our newly JSON-ified Pet table:</p>
<table>
<thead>
<tr>
<th>pet_id</th>
<th>owner_id</th>
<th>species_id</th>
<th>name</th>
<th>detail</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td>'Bowser'</td>
<td><code>{&quot;collar_manufacturer&quot;: &quot;PetProtector&quot;, &quot;rabies_flag&quot;: true}</code></td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>2</td>
<td>'Oliver'</td>
<td><code>{&quot;has_name_tag&quot;: false, &quot;music_preference&quot;: &quot;Light Jazz&quot;}</code></td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>1</td>
<td>'Marcus'</td>
<td><code>{&quot;userstory183274_marker&quot;: &quot;FILENOTFOUND&quot;}</code></td>
</tr>
</tbody>
</table>
<p><em>Notice that in the time it took to draft up this table, we added a new
feature: Musical Preference. Oliver likes Light Jazz.</em></p>
<p>Some of the benefits of storing &quot;extra&quot; data about your models this way:</p>
<ul>
<li>You can add additional properties without having to alter your
database schema.</li>
<li>Keeps your database schema tidy; only &quot;essential&quot; fields show up in
your tables.</li>
</ul>
<p>There are a few costs to this approach that you should be aware of,
however:</p>
<ul>
<li>It requires additional application logic to encode/decode the JSON
in the detail field. This has implications both for performance and
development time.</li>
<li>These fields are not indexable! If you need to search/filter by a
property in a detail field, you will need to move it to its own
column in the database table or use a system such as Lucene to index
and search that value.</li>
<li>Extracting data from a detail field is an all-or-nothing operation;
you have to pull the entire JSON string from the database and decode
it in your application to find a specific property. This is usually
not an issue for modern ORMs, since all columns are usually
automatically pulled in every time they fetch a record from
the database.</li>
</ul>
<p>For storing one-off properties and flag values that you only need at the
application level (i.e., you do not need to index/filter/search these
values), think about whether you can store these values in a single
JSON-formatted string instead of bloating your tables with extra fields.</p>
<p>And if you find that you're using this feature a lot in your
relational-database-powered application, you might want to consider
whether a NoSQL solution such as CouchDB is a better fit for some or all
of your data!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/05/20/write-a-better-config-file">
        Write a Better Config File
      </a>
    </h1>

    <span class="post-date">20 May 2013</span>

    <p>Anyone who's been writing applications for awhile has run into the problem of making the application's behavior configurable in different operating environments.  From DSNs to administrator email addresses, it's important to have a set of configuration values that live outside the codebase.</p>
<p>But how to store these values in a format that a computer can easily read and write?</p>
<p>A lot of solutions have been tried over the years, including INI, XML and YAML.  Each of these formats has its strengths, but they all lack the combination of power and simplicity that JSON offers.</p>
<p>Consider a configuration file that stores database connection strings for different operating modes.  Let's start by seeing how you might write it with INI syntax:</p>
<pre class="language-ini"><code class="language-ini"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">prod</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">sql_username</span>   <span class="token punctuation">=</span> <span class="token value attr-value">dbuser</span>
<span class="token key attr-name">sql_password</span>   <span class="token punctuation">=</span> <span class="token value attr-value">dbpass</span>
<span class="token key attr-name">sql_hostname</span>   <span class="token punctuation">=</span> <span class="token value attr-value">192.168.113.172</span>
<span class="token key attr-name">sql_portnum</span>    <span class="token punctuation">=</span> <span class="token value attr-value">3306</span>
<span class="token key attr-name">sql_database</span>   <span class="token punctuation">=</span> <span class="token value attr-value">app_database</span>
<span class="token key attr-name">redis_hostname</span> <span class="token punctuation">=</span> <span class="token value attr-value">192.168.113.173</span>
<span class="token key attr-name">redis_portnum</span>  <span class="token punctuation">=</span> <span class="token value attr-value">6379</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">test</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">sql_username</span>   <span class="token punctuation">=</span> <span class="token value attr-value">dbuser</span>
<span class="token key attr-name">sql_password</span>   <span class="token punctuation">=</span> <span class="token value attr-value">dbpass</span>
<span class="token key attr-name">sql_hostname</span>   <span class="token punctuation">=</span> <span class="token value attr-value">192.168.113.172</span>
<span class="token key attr-name">sql_portnum</span>    <span class="token punctuation">=</span> <span class="token value attr-value">3306</span>
<span class="token key attr-name">sql_database</span>   <span class="token punctuation">=</span> <span class="token value attr-value">test_app_database</span>
<span class="token key attr-name">redis_hostname</span> <span class="token punctuation">=</span> <span class="token value attr-value">192.168.113.175</span>
<span class="token key attr-name">redis_portnum</span>  <span class="token punctuation">=</span> <span class="token value attr-value">6379</span></code></pre>
<p>Well, it gets the job done, but it's kind of... verbose.  Plus, if that config file gets long enough, it will get really difficult to separate the different sections (prod, test, etc.).</p>
<p>What about an XML config file?</p>
<pre class="language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configurations</span> <span class="token name">SYSTEM</span> <span class="token string">"path/to/config.dtd"</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configurations</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prod<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sql<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>dbuser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>dbpass<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
      ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>redis<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hostname<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inet_addr<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>192.168.113.173<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>portnum<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>integer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>6379<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configurations</span><span class="token punctuation">></span></span></code></pre>
<p>Yuck — and I thought INI was verbose!  I didn't even want to type the entire thing out, it got so huge!  And by the way, good luck trying to store array values!</p>
<p>How about YAML?</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">prod</span><span class="token punctuation">:</span>
  <span class="token key atrule">sql</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> dbuser
    <span class="token key atrule">password</span><span class="token punctuation">:</span> dbpass
    <span class="token punctuation">...</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span>  192.168.113.173
    <span class="token key atrule">portnum</span><span class="token punctuation">:</span>   <span class="token number">6379</span>

<span class="token key atrule">test</span><span class="token punctuation">:</span>
  <span class="token key atrule">sql</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> dbuser
    <span class="token key atrule">password</span><span class="token punctuation">:</span> dbpass
    <span class="token punctuation">...</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span>  192.168.113.175
    <span class="token key atrule">portnum</span><span class="token punctuation">:</span>   <span class="token number">6379</span></code></pre>
<p>Not bad.  Definitely easy for a human to read, and there are libraries in practically every programming language to read and write YAML files.  But I'll share with you a little secret:  YAML is JSON-compatible!</p>
<p>That's right; the above configuration file could also be written like this:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">prod</span><span class="token punctuation">:</span>
  <span class="token key atrule">sql</span><span class="token punctuation">:</span>   <span class="token punctuation">{</span><span class="token key atrule">"username"</span><span class="token punctuation">:</span> <span class="token string">"dbuser"</span><span class="token punctuation">,</span> <span class="token key atrule">"password"</span><span class="token punctuation">:</span> <span class="token string">"dbpass"</span><span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">}</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">"hostname"</span><span class="token punctuation">:</span> <span class="token string">"192.168.113.173"</span><span class="token punctuation">,</span> <span class="token key atrule">"portnum"</span><span class="token punctuation">:</span> <span class="token number">6379</span><span class="token punctuation">}</span>
<span class="token key atrule">test</span><span class="token punctuation">:</span>
  <span class="token key atrule">sql</span><span class="token punctuation">:</span>   <span class="token punctuation">{</span><span class="token key atrule">"username"</span><span class="token punctuation">:</span> <span class="token string">"dbuser"</span><span class="token punctuation">,</span> <span class="token key atrule">"password"</span><span class="token punctuation">:</span> <span class="token string">"dbpass"</span><span class="token punctuation">,</span> <span class="token punctuation">...</span><span class="token punctuation">}</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">"hostname"</span><span class="token punctuation">:</span> <span class="token string">"192.168.113.175"</span><span class="token punctuation">,</span> <span class="token key atrule">"portnum"</span><span class="token punctuation">:</span> <span class="token number">6379</span><span class="token punctuation">}</span>
p Well<span class="token punctuation">,</span> if you're going to go and use a configuration file format that's compatible with JSON<span class="token punctuation">...</span> why not use JSON<span class="token punctuation">?</span>
pre.
<span class="token punctuation">{</span>
  <span class="token key atrule">"prod"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token key atrule">"sql"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token key atrule">"username"</span><span class="token punctuation">:</span> <span class="token string">"dbuser"</span><span class="token punctuation">,</span>
      <span class="token key atrule">"password"</span><span class="token punctuation">:</span> <span class="token string">"dbpass"</span><span class="token punctuation">,</span>
      <span class="token punctuation">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token key atrule">"redis"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token key atrule">"hostname"</span><span class="token punctuation">:</span> <span class="token string">"192.168.113.173"</span><span class="token punctuation">,</span>
      <span class="token key atrule">"portnum"</span><span class="token punctuation">:</span>  <span class="token number">6379</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token key atrule">"test"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Not only do you get an easy to read syntax (for both humans and computers), but you also get the advantage of being able to explicitly supply a type for your configuration values.</p>
<p>Try to set a configuration value to null in an INI or YAML file (credit where it's due, at least XML can handle this... if you don't mind typing a dozen extra characters!).</p>
<p>What about true or false?  In JSON, this is just part of the syntax:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"prod"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"use_caching"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"test"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"use_caching"</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>And with JSON libraries available in nearly every programming language (or supported natively if you are developing a Node.js app!), it's incredibly easy to integrate a JSON configuration into your application!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/05/19/keep-function-parameters-tidy">
        Keep Function Parameters Tidy
      </a>
    </h1>

    <span class="post-date">19 May 2013</span>

    <p>We've all been there before:  You finished putting together an awesome class or function whose behavior can be configured down to the smallest degree, and now to wire up all the different configuration values:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">jsonapi</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> pre_execute_hook<span class="token punctuation">,</span> success_hook<span class="token punctuation">,</span> failure_hook<span class="token punctuation">,</span> error_hook<span class="token punctuation">,</span> post_execute_hook<span class="token punctuation">,</span> async<span class="token punctuation">,</span> method<span class="token punctuation">,</span> jsonp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span></code></pre>
<p>What a mess.  Can you imagine trying to call that monstrosity?</p>
<pre class="language-js"><code class="language-js"><span class="token function">jsonapi</span><span class="token punctuation">(</span><span class="token string">'http://www.example.com/rest/doSomethingAwesome'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string-property property">"subscribe"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"peter"</span><span class="token punctuation">,</span> <span class="token string">"henrietta"</span><span class="token punctuation">,</span> <span class="token string">"xavier"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> mySuccessHandler<span class="token punctuation">,</span> myFailureHandler<span class="token punctuation">,</span> myErrorHandler<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>At least you have some job security — nobody is going to want to maintain that thing!</p>
<p>However, there's a better way to organize your function parameters using JSON:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">jsonapi</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Merge options with default values.</span>
  options <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// Standard Options</span>
      <span class="token string-property property">'url'</span><span class="token operator">:</span>          <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token comment">// Hooks</span>
      <span class="token string-property property">'pre_execute'</span><span class="token operator">:</span>  <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token string-property property">'success'</span><span class="token operator">:</span>      <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token string-property property">'failure'</span><span class="token operator">:</span>      <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token string-property property">'error'</span><span class="token operator">:</span>        <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token string-property property">'post_execute'</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token comment">// Advanced Options</span>
      <span class="token string-property property">'async'</span><span class="token operator">:</span>        <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">'method'</span><span class="token operator">:</span>       <span class="token string">'post'</span><span class="token punctuation">,</span>
      <span class="token string-property property">'jsonp'</span><span class="token operator">:</span>        <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token string-property property">'data'</span><span class="token operator">:</span>         <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Note that we are using the extend() function from the jQuery library to merge values in the options parameter.</p>
<p>When you are invoking the function, pass a JSON-encoded object as the value of the options parameter:</p>
<pre class="language-js"><code class="language-js"><span class="token function">jsonapi</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">"url"</span><span class="token operator">:</span>      <span class="token string">'http://www.example.com/rest/doSomethingAwesome'</span><span class="token punctuation">,</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span>     <span class="token punctuation">{</span><span class="token string-property property">"subscribe"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"peter"</span><span class="token punctuation">,</span> <span class="token string">"henrietta"</span><span class="token punctuation">,</span> <span class="token string">"xavier"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"success"</span><span class="token operator">:</span>  mySuccessHandler<span class="token punctuation">,</span>
  <span class="token string-property property">"failure"</span><span class="token operator">:</span>  myFailureHandler<span class="token punctuation">,</span>
  <span class="token string-property property">"error"</span><span class="token operator">:</span>    myErrorHandler<span class="token punctuation">,</span> 
  <span class="token string-property property">"jsonp"</span><span class="token operator">:</span>    <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>You might have noticed several advantages to this method:</p>
<ul>
<li>The values you are passing at invocation time are self-documenting — even without looking at the function signature, you can tell which option each value corresponds to.</li>
<li>You can omit any options that should use the default value — in the above example, the we did not have to pass a null value to the pre_execute, post_execute, method and async options; the function automatically uses default values if they are omitted from the JSON object passed to it.</li>
<li>Individual options can be documented in the function body itself.
p One thing to be careful about though, is that the different options are no longer part of the function's signature, so IDE tooltips and auto-completion won't work.  Make sure you document well your functions and the options they expect if you are using this technique!</li>
</ul>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/05/18/communicate-with-remote-servers">
        Communicate with Remote Servers
      </a>
    </h1>

    <span class="post-date">18 May 2013</span>

    <p>When you need to send data back and forth with a RESTful webservice or
other backend server, you need a way to structure the data that you send
and receive.</p>
<p>In a previous age, ajax requests would send key-value pairs to
webservices using query parameters or as form-encoded values in the body
of a POST request.</p>
<p>However, this gets really bulky when you need to send arrays and nested
objects. Imagine trying to transmit these data via URL parameters:</p>
<p>{
&quot;subscribe&quot;: [
&quot;peter&quot;,
&quot;henrietta&quot;,
&quot;xavier&quot;
]
}</p>
<p>The resulting URL might look something like this:</p>
<p><a href="http://www.example.com/services/subscribe?subscribe%5B%5D=peter&amp;subscribe%5B%5D=henrietta&amp;subscribe%5B%5D=xavier">http://www.example.com/services/subscribe?subscribe[]=peter&amp;subscribe[]=henrietta&amp;subscribe[]=xavier</a></p>
<p>Yuck.</p>
<p>However, ajax requests are perfectly capable of sending JSON-encoded
payloads within the body of a POST request, which is much cleaner. Here
is an example of how to send a JSON-encoded POST body with the jQuery
library:</p>
<p>$.ajax({
&quot;contentType&quot;: &quot;application/json&quot;,
&quot;data&quot;: '{&quot;subscribe&quot;: [&quot;peter&quot;, &quot;henrietta&quot;, &quot;xavier&quot;]}',
...
});</p>
<p>Note that you have to send the JSON object as a string, since otherwise
jQuery will invoke the object’s toString() method, and you’ll end up
sending “[object Object]”, which is not particularly helpful!</p>
<p>Just about every server-side language has a JSON library, so decoding
the incoming request payload on the server side is trivial. Here are
some resources for common server-side languages:</p>
<ul>
<li>C#</li>
<li>Java</li>
<li>PHP</li>
<li>Python</li>
<li>Ruby</li>
</ul>
<p>Don’t forget to have the remote service send back its response in JSON,
too!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/05/17/keep-functions-tidy">
        Keep Functions Tidy
      </a>
    </h1>

    <span class="post-date">17 May 2013</span>

    <p>When you want to keep your functions out of the global namespace, use JSON.  A common development pattern for this is placing functions inside an object looks like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> nameSpace <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"myFunc"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"otherFunc"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myFunc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">*</span> z<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Now you can access your functions the same way you access any other object property.  In this case, the functions are referred to as &quot;methods&quot;.</p>
<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> nameSpace<span class="token punctuation">.</span><span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// returns 3</span></code></pre>
<p>Another advantage you have of declaring functions in an object literal is
gaining access to the <code>this</code> variable within each method.  In the example
above, <code>this</code> refers to <code>nameSpace</code> object.  It can be referred to easily in this manner without declaring any functions in the global namespace.  Handy indeed.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/05/16/store-global-state-variables">
        Store Global State Variables
      </a>
    </h1>

    <span class="post-date">16 May 2013</span>

    <p>Ever build a JavaScript app and find there are certain variables you need to access in various places throughout the code?  If you’re doing it right, you’ve smartly designed your app in a modular, decoupled fashion -  yup, check. One way of using variables across these decoupled components is to pass them from one function to another, effectively pushing them down a daisy-chain as needed.  This is not always the best way because said variables are only accessible at the time when a function is fired.  An alternative to this approach is to use JSON to store your variables in a global object.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> globalVars <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"miliseconds"</span><span class="token operator">:</span> <span class="token string">"5000"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"turtleFarts"</span><span class="token operator">:</span> <span class="token string">"1.3"</span>
  <span class="token string-property property">"laserBeams"</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">getTurtleFartsPerSecond</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> tfps <span class="token operator">=</span> globalvars<span class="token punctuation">.</span>turtleFarts <span class="token operator">/</span> <span class="token punctuation">(</span>global<span class="token punctuation">.</span>miliseconds <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> tfps<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">getPiLaserBeamsPerSecond</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> PiL <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> global<span class="token punctuation">.</span>laserBeams<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>global<span class="token punctuation">.</span>miliseconds <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/05/15/visualize-json-formated-date">
        Visualize JSON-formatted Data
      </a>
    </h1>

    <span class="post-date">15 May 2013</span>

    <p>Can you remember the last time you came across a data visualization library that didn't use JSON as the primary input?  If you have data in JSON format data, whether it's coming from a document-oriented data store (i.e. CouchDB, MongoDB) or a hand-coded JSON object, you'll be able to leverage it quickly with a web-based visualization library. This usually requires transforming the data slightly to get it in the exact structure required by the visualization library.</p>
<p>JSON is the most popular data interchange format on the web and it has been embraced by the creators of the most popular data visualization libraries on the web, namely Highcharts and D3.  There are so many different styles and dimensionalities possible with visualization that table-oriented data is no longer enough to reach full potential. JSON is flexible enough to support many thousands of combinations of data structures needed by today's visualization and is becoming the universal format of choice.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> myDataSet <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"week one"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"goalReached"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">"avgTemp"</span><span class="token operator">:</span> <span class="token string">"84.3"</span>
    <span class="token string-property property">"miles"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"mon"</span><span class="token operator">:</span> <span class="token string">"12"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"tues"</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"wed"</span><span class="token operator">:</span> <span class="token string">"15"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"thu"</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span> 
      <span class="token string-property property">"fri"</span><span class="token operator">:</span> <span class="token string">"21"</span> 
    <span class="token punctuation">}</span> 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/05/14/make-the-perfect-json-schema">
        Make the Perfect JSON Schema
      </a>
    </h1>

    <span class="post-date">14 May 2013</span>

    <p>Schemas in JSON are unlimited in breadth and depth. With support for nested arrays and objects, JSON can be used to create flexible schemas which help store and transport data in a way that bests suits the needs of an application. When the architecture of an application changes (as do the data transport and data storage needs), it's convenient to use a flexible format that isn't restrained by a two-dimensional, table-oriented paradigm.</p>
<p>Data can be complex, ugly, multi-dimensional and just plain weird. For this, JSON natively supports more complex structures like arrays-of-arrays and objects-of-objects.  Creating a schema with JSON (and storing your data in JSON) is often a great choice in order to future-proof your application to inevitable changes - you'll be able to adapt quickly and reduce the odds of having to re-architect you system when changes happen.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> wickedSchema <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"nesty_o"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">objectInAnObject</span><span class="token operator">:</span> <span class="token string">"sure"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"nesty_a"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">"three levels deep"</span><span class="token punctuation">,</span> <span class="token string">"hells yeah"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"a string here"</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string-property property">"objectInAnArray"</span><span class="token operator">:</span> <span class="token string">"yup"</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"someString"</span><span class="token operator">:</span> <span class="token string">"whoah buddy"</span>
  <span class="token string-property property">"aNumber"</span><span class="token operator">:</span> <span class="token string">"3.14"</span>
<span class="token punctuation">}</span></code></pre>

  </div>
  
</div>

<div class="pagination">
  
    <span class="pagination-item older">Older</span>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
